language: java
branches:
  only:
  - master
  - develop
before_install:
- chmod +x gradlew
install: true
cache:
  directories:
  - $HOME/.gradle/caches/
  - $HOME/.gradle/wrapper/
script:
- git clone -b master https://github.com/nablarch/nablarch-ci-script.git $HOME/build-script/
  && chmod +x $HOME/build-script/travis-ci/*.sh
- $HOME/build-script/travis-ci/install-oracle-jdk6.sh
- $HOME/build-script/travis-ci/nablarch-build.sh
- $HOME/build-script/travis-ci/upload-test-report.sh
before_cache:
- rm -f $HOME/.gradle/caches/modules-2/modules-2.lock
notifications:
  slack:
    secure: GzUiYaiftfRcfIak2vCJiX3OAfeeUS8G1QT+BqHaEoHK+yb3c8cI2NiVoCg6awzRF5hXxlC6CGOEFzvxM4pkpba8cuPQt9BhVIob8SGChPP9uuPILyMLvMpA0E63gTAqJkfcI8CifZy9w/nHmJpgKkLNSWWTis06XQdc13QFc7B+yLsA/uF308rQwOuBYOwgfF+owxk+cJDgkvqD1NCxN8wOJ0Sze9IdhaOnD5DngwR2AW7wxk4gMae6CFyIs5ZwN7bKjVSUr33/rw6k2ULiNfgYsLUIOEE1K+C3ju6HzC/qS/Xd/u55tl7BhZ1pqU33NLzVluzYbbn0UvzIo7fumMibh5yHQZAFchFNv4KFi3rCCs659gJpqLFeQNtBNY6nHKKgMHF7BaJYlfIpzZYjs3q0OsQHddF1CPObGbR+YIAu9pwt7yAdtlkMux4s9C3nUYcwxUi0Xbg4dMNjNNzTqlDicZwXMidYt037xbbnqh/RqlPsDATVYvt6R202vsz/sh3nuu/gYyMUiM+hIv8JEAWhOZ5ifDSRFBZMnR79GRj6MPpd8gb7mPss+TFAWvpyFZNlx7gqpw42Q0rXn8E/ENMhQ0G05XG1tJ36sOqxB309MHYvEzcN4CRB0cepDLV0ehmTIjAzjhouzK5k1SmneCUS6tdbfslKcAs3d1P+Vls=
